% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_overview.R
\name{plot_overview}
\alias{plot_overview}
\title{Overview panel of PCA and survival-guided results}
\usage{
plot_overview(
  res,
  meta = NULL,
  id_col = "PATIENT_ID",
  color_by = NULL,
  shape_by = NULL,
  color_values = NULL,
  color_palette = c("#2c7bb6", "#abd9e9", "#ffffbf", "#fdae61", "#d7191c"),
  na_color = "grey80",
  n_pcs = 30,
  show_threshold = FALSE,
  threshold_pc = NULL,
  cum_threshold = 0.5,
  main_title = NULL,
  ncol = 2,
  theme_fn = ggplot2::theme_minimal,
  base_size = 14,
  title_size = 18,
  axis_title_size = 14,
  axis_text_size = 12,
  legend_title_size = 12,
  legend_text_size = 11,
  legend_position = "right",
  panel_grid = TRUE,
  panel_border = FALSE,
  scree_args = list(),
  cumvar_args = list(),
  scatter_args = list(),
  top2_args = list(),
  scree_add = NULL,
  cumvar_add = NULL,
  scatter_add = NULL,
  top2_add = NULL
)
}
\arguments{
\item{res}{Result object from \code{survival_guided_loading_score()}.}

\item{meta}{Optional metadata data.frame (rownames or \code{id_col} must match samples).}

\item{id_col}{Metadata column to use as rownames when meta rownames are missing.}

\item{color_by}{Optional metadata column name used for coloring points in scatter plots.}

\item{shape_by}{Optional metadata column name used for shaping points in scatter plots.}

\item{color_values}{Optional named vector for manual discrete colors (scatter plots).}

\item{color_palette}{Optional vector of colors for continuous gradients (scatter plots when color_by is numeric).}

\item{na_color}{Color for NA values in scatter plots.}

\item{n_pcs}{Number of PCs to display in scree/cumulative plots.}

\item{show_threshold}{Logical; if TRUE, show variance threshold annotations.}

\item{threshold_pc}{PC index for scree vertical line (used if show_threshold=TRUE).}

\item{cum_threshold}{Cumulative variance threshold (used if show_threshold=TRUE).}

\item{main_title}{Optional overall title for the full panel (drawn above the grid).}

\item{ncol}{Number of columns in the arranged grid.}

\item{theme_fn}{ggplot theme function applied to all panels (default \code{ggplot2::theme_minimal}).}

\item{base_size, title_size, axis_title_size, axis_text_size, legend_title_size, legend_text_size}{Global font sizes.}

\item{legend_position}{Global legend position for all panels (scatter plots respect this; scree/cumvar typically have no legend).}

\item{panel_grid}{Logical; show grid lines.}

\item{panel_border}{Logical; draw borders.}

\item{scree_args}{Optional named list of extra arguments passed to \code{plot_scree()}.}

\item{cumvar_args}{Optional named list of extra arguments passed to \code{plot_cumvar()}.}

\item{scatter_args}{Optional named list of extra arguments passed to \code{plot_pc_scatter()} for PC1 vs PC2.}

\item{top2_args}{Optional named list of extra arguments passed to \code{plot_top2_survival_pcs()}.}

\item{scree_add, cumvar_add, scatter_add, top2_add}{Optional lists of ggplot layers
added to each panel (e.g., \code{list(ggplot2::coord_cartesian(...), ggplot2::theme(...))}).}
}
\value{
Invisibly returns the grob produced by \code{gridExtra::grid.arrange()}.
}
\description{
Generates a multi-panel overview of PCA and survival-guided results:
\enumerate{
\item Scree plot (variance explained)
\item Cumulative variance explained
\item PC1 vs PC2 scatter (optional coloring/shaping)
\item Top-2 survival-significant PC scatter (optional coloring/shaping)
}
}
\details{
This function is designed to be user-friendly and highly customizable.
You can control global styling (theme, fonts, legend position), palettes,
and also pass additional ggplot layers to specific panels via \verb{*_add}.
}
\examples{
# Overview with ELN coloring + custom palette
# eln_cols <- c(Favorable="#1b9e77", Intermediate="#bdbdbd", Adverse="#d95f02")
# plot_overview(res, meta, color_by="ELN_2022_risk", color_values=eln_cols,
#               n_pcs=50, show_threshold=TRUE, threshold_pc=20, cum_threshold=0.8,
#               theme_fn=ggplot2::theme_classic, base_size=16, legend_position="bottom")
}
